{% extends "layout.html" %}
{% load static %}

{% block title %}
  Stoppage List
{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/bus_list.css' %}">
  <style>
    .action-buttons {
      display: flex;
      gap: 8px;
      justify-content: center;
    }


    .edit-btn, .delete-btn {
      padding: 6px 14px;
      font-size: 0.85rem;
      border-radius: 6px;
      text-decoration: none;
      color: white;
      font-weight: 500;
      transition: background-color 0.3s ease;
    }

    .edit-btn {
      background-color: #2ecc71;
    }

    .edit-btn:hover {
      background-color: #27ae60;
    }

    .delete-btn {
      background-color: #e74c3c;
    }

    .delete-btn:hover {
      background-color: #c0392b;
    }
  </style>
{% endblock %}

{% block content %}
  <div class="top-bar">
    <a href="{% url 'add_stoppage' %}" class="add-btn">ADD STOPPAGE +</a>
  </div>

  <form method="get" class="filter-form">
    <input type="text" name="search" placeholder="Search stoppage..." value="{{ request.GET.search }}" class="styled-select" style="width:300px;">
    <button type="submit" class="submit-btn">Search</button>
  </form>

  {% if stoppages %}
    <table>
      <thead>
        <tr>
          <th>Stoppage Name</th>
          <th>Route</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for stoppage in stoppages %}
          <tr>
            <td>{{ stoppage.name }}</td>
            <td>{{ stoppage.route.name }}</td>
            <td>
              <div class="action-buttons">
                <a href="{% url 'edit_stoppage' pk=stoppage.id %}" class="edit-btn">Edit</a>
                <a href="{% url 'delete_stoppage' pk=stoppage.id %}" class="delete-btn" onclick="return confirm('Are you sure you want to delete this stoppage?');">Delete</a>
              </div>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="no-data">No stoppages found.</p>
  {% endif %}
{% endblock %}
